<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="externalstylesheet.css">
    <style>
        

        /* userTextContainer div for containing the text that will be changed by user input */
        #userTextContainer{
          position: relative;
          border-radius: 5px;
          border-color: black;
          border-style: solid;
          background-color: lightgrey;
          padding: 10px;
          margin:5px 0px;
          height: auto;
        }

        /* customiseTextContainer div for containing all input's and buttons to change target text*/
        #customiseTextContainer {
          position: relative;
          border-radius: 5px;
          background-color:#343d46;
          padding: 20px 0 30px 0;
          height: auto;
        }

        /* Div for containing what the style settings are for the target text*/
        #styleSettingsContainer {
          position: relative;
          border-radius: 5px;
          background-color:#525f6b;
          padding: 20px 0 30px 0;
          width: 50%;
        }

        /* uniform select css as we only have one select tag*/
        select{
          width: 100%;
          padding: 12px;
          border: none;
          border-radius: 4px;
          margin: 5px 0;
          opacity: 0.85;
          display: inline-block;
          font-size: 17px;        }

        /* text area will take up 100% of available width and 5em height*/
        textarea{
            width:100%;
            height:5em;
        }

        /* row div's take up 100% of available width and align internal text to center, .doublecol and .singlecol appear within .row*/
        .row{
            width:100%;
            text-align: center;
        }
        /* singleCol div's take up 100% of aavailable width as there will only be 1 singleCol per row*/
        .singleCol{
            width: 100%;
            margin:auto;
            padding: 0 50px;
            margin-top: 6px;
        }
        /* doblecol div's take up half the width of the row as there will be 2 doublecol per row*/
        .doublecol {
          width: 49%;
          margin: auto;
          padding: 0 0px;
          margin-top: 6px;
          display: inline-block;
        }

        /* settingTitle is class of p tag to act as label's for the different settings */
        .settingTitle{
            color: white;
            margin-left: 2.5%;
            margin-bottom: 0%;
        }
        /* settingTitle is class of p tag to act as value under label's for the different settings */
        .settingValue{
            color:#98c794;
            margin-left: 5%;
            border-top-style: solid;
            border-top: 1px #c695c6;
            border-bottom: 1px #c695c6;
            border-top-style: solid;
            border-bottom-style: solid;
            width: auto;
            display: inline-block;
            padding-top: 1px;
            padding-bottom: 1px;
        }

        /* .inputs class for input tag's to make them take 100% of their parent container*/
        .inputs{
          width: 100%;
          padding: 12px;
          border: none;
          border-radius: 4px;
          margin-top: 5px;
          margin-bottom: 0px;
          opacity: 0.85;
          display: inline-block;
          font-size: 16px;
        }
        /* .btn class appears under each of the .inputs*/
        .btn {
          width: 100%;
          padding: 0px;
          border: none;
          border-radius: 4px;
          margin: 0px;
          opacity: 0.5;
          display: inline-block;
          background-color: #98c794;
        }

        /* When hover over buttons make them fully opaque*/
        .btn:hover {
          opacity: 1;
        }

        /* ResetToDefaultBtn is coloured red to distinguish it from rest*/
        #resetToDefaultBtn{
            background-color: #ec6066;
            font-size: 20px;
            color:white;
            margin-top: 10px
        }

        /* in case user enters a very long single series of char's in #updateTextArea*/
        #textBody{
            word-break: break-all;
            }

    </style>
    <title>Generic Site Styling</title>
</head>
<body>
    <!-- nav element used in place of div, as we only have one nav this is distinguished as our navigation bar where links to Home on the left and links to login, styling and visualisation pages on the right-->
    <nav>
        <!--Using an unordered list without style to contain links-->
        <ul>
            <!-- homeListItem get's floated to the left, contains image link to home page-->
            <li id="homeListItem">
                <a id="homeLink" href="home.html">
                    <img id="logoImg" src="images/genericSiteLogo.png"/>
                </a></li>
            <!-- navListItemRight all get floated to the right, contains visualisation, styling and image buttons that navigate to respective pages-->
            <li class="navListItemRight"><button class="btnHeader" onclick="window.location.href = 'visualisations.html'">Visualisation</button></li>
            <li class="navListItemRight"><button class="btnHeader" onclick="window.location.href = 'styling.html'">Styling</button></li>
            <li class="navListItemRight"><button class="btnHeader" onclick="window.location.href = 'login.html'">Login</button></li>
        </ul>
    </nav>

    <!-- mainDiv used for containing rest of window below the navbar-->
    <div class="mainDiv">
        <div id="userTextContainer">
            <p id="userEnteredText">Here is some sample Text, update below to replace with your preference.</p>
        </div>
        <!-- customiseTextContainer div is container for everything that changes the #userEnteredText p tag text and it's styling -->
        <div id="customiseTextContainer">
            <!-- row div used to keep column div's in horizontal slices -->    
            <div class="row">
                <!-- single Col give's single veritcal slice within row-->
                <div class="singleCol">
                    <!-- textarea input is for taking user input to update text above -->
                    <textarea class="inputs" id="updateUserTextArea"></textarea>
                    <!-- updateText button calls function to replace above text with user input from textarea-->
                    <button class="btn" id="updateText" onclick="changeText()">Update the above text</button>
                </div>
            </div>
            <!-- row div used to keep column div's in horizontal slices -->   
            <div class="row">
                <!-- doublecol Col used in pairs, gives two veritcal slices within row first doublecol-->
                <div class="doublecol">
                    <input class="inputs" id="headerColourTextBox" type="text">
                    <button class="btn" id="headerColourBtn" onclick="changeFontBackgroundColour()">Change Background Colour</button>
                </div>
                <!-- doublecol Col used in pairs, gives two veritcal slices within row second doublecol-->
                <div class="doublecol">
                    <input class="inputs" id="fontSizeTextBox" type="text">
                    <button class="btn" id="fontSizeBtn" onclick="changeFontSize()">Change Text Size</button>
                </div>
            </div>
            <!-- row div used to keep column div's in horizontal slices -->
            <div class="row">
                <!-- doublecol Col used in pairs, gives two veritcal slices within row first doublecol-->
                <div class="doublecol">
                    <input class="inputs" id="fontColourTextBox" type="text">
                    <button class="btn" id="fontColourTextBtn" onclick="changeFontColour()">Change Font Colour</button>
                </div>
                <!-- doublecol Col used in pairs, gives two veritcal slices within row second doublecol-->
                <div class="doublecol">
                      <select class="inputs" id=fontFamilySelector>
                        <option style="font-family:tahoma">Tahoma</option>
                        <option style="font-family:Arial">Arial</option>
                        <option style="font-family:Comic Sans MS">Comic Sans MS</option>
                        <option style="font-family:Fearless">Fearless</option>
                      </select>

                    <button class="btn" id="fontStyleBtn" onclick="changeFontFam()">Change Font Family</button>
                </div>
            </div>
            <!-- row div used to keep column div's in horizontal slices -->
            <div class="row">
                <!-- doublecol Col used in pairs, gives two veritcal slices within row first doublecol-->
                <div class="doublecol">
                    <input class="inputs" id="paddingTextBox" type="text">
                    <button class="btn" id="paddingBtn" onclick="changePadding()">Change Padding</button>
                </div>
                <!-- doublecol Col used in pairs, gives two veritcal slices within row second doublecol-->
                <div class="doublecol">
                    <input class="inputs" id="marginTextBox" type="text">
                    <button class="btn" id="marginBtn" onclick="changeMargin()">Change Margin</button>
                </div>
            </div>
            <!-- row div used to keep column div's in horizontal slices -->
            <div class="row">
                <!-- single Col give's single veritcal slice within row-->
                <div class="singleCol">
                    <button class="btn" id="resetToDefaultBtn" onclick="resetToDefault()">Reset above to default</button>
                </div>
            </div>
            <!-- This clear is necessary to prevent container div from placing last row in padding, I think this is a result of having the previous doublecol float which when cleared pushes the last row down into the div's padding -->
        </div>
        <br>
        <!-- in this div, display settings for the user entered text, handy as a check to see what font etc. has been set -->
        <div id="styleSettingsContainer">
            <p class="settingTitle">Text Body:</p>
            <p class="settingValue" id="textBody"></p>
            <p class="settingTitle">Text Colour:</p>
            <p class="settingValue" id="textColourSetting"></p>
            <p class="settingTitle">Text Size:</p>
            <p class="settingValue" id="textSizeSetting"></p>
            <p class="settingTitle">Text Background Colour:</p>
            <p class="settingValue" id="textBackgroundColourSetting"></p>    
            <p class="settingTitle">Font Family:</p>
            <p class="settingValue" id="textFontFamSetting"></p>     
            <p class="settingTitle">Padding:</p>
            <p class="settingValue" id="textPaddingSetting"></p>    
            <p class="settingTitle">Margin:</p>
            <p class="settingValue" id="textMarginSetting"></p>          
        </div>
    </div>
    
</body>
<script>

    /* constants used for holding default values for text settings, to be used for resetting style settings and the text*/
    const defaultTextSize = 'initial'; //in actuality is 16px
    const defaultTextBackgroundColour =  'initial'; // transparent
    const defaultText = 'Here is some sample Text, update below to replace with your preference.'; //this was only var initial would not make sense for
    const defaultTextColour = "initial"; //black
    const defaultFontStyle = "initial"; //
    const defaultFontFamily = "tahoma";
    const defaultMargin = "0px";
    const defaultPadding = "16px";

    /* Fields for user entry */
    let customisedTextField = document.getElementById("userEnteredText");
    let userEntryTextField = document.getElementById("updateUserTextArea");
    let userEntryFontBackgroundColourField = document.getElementById("headerColourTextBox");
    let userEntryFontSizeField = document.getElementById("fontSizeTextBox");
    let userEntryFontColourField = document.getElementById("fontColourTextBox");
    let userEntryFontFamilyDropDown = document.getElementById("fontFamilySelector");
    let userEntryPaddingField = document.getElementById("paddingTextBox");
    let userEntryMarginField = document.getElementById("marginTextBox");

    /* Fields for showing applied user entry settings*/
    let userEnteredTextSettings = document.getElementById("textBody");
    let userEnteredFontSizeSettings = document.getElementById("textSizeSetting");
    let userEnteredFontColourSettings = document.getElementById("textColourSetting");
    let userEnteredTextBackgroundColourSettings = document.getElementById("textBackgroundColourSetting");
    let userEnteredTextFontFamSettings = document.getElementById("textFontFamSetting");
    let userEnteredPaddingSettings = document.getElementById("textPaddingSetting");
    let userEnteredMarginSettings = document.getElementById("textMarginSetting");

    //changes the background color of customisedTextField
    changeFontBackgroundColour = function(){
        userColour = userEntryFontBackgroundColourField.value;
        customisedTextField.style.backgroundColor = userColour;
        tagStyleSettings();
    }

    //changes the font size of customisedTextField
    changeFontSize = function(){
        userTextSize = userEntryFontSizeField.value;
        customisedTextField.style.fontSize = userTextSize;
        //document.getElementById('pageHeaderDiv').style.fontSize = userTextSize;
        tagStyleSettings();
    }

    //changes the font color of customisedTextField
    changeFontColour = function(){
        fontColour = userEntryFontColourField.value;
        customisedTextField.style.color = fontColour;
        tagStyleSettings();
    }

    //changes the body of text of customisedTextField
    changeText = function(){
        userText = userEntryTextField.value;
        customisedTextField.innerHTML = userText;
        tagStyleSettings();
    }

    //changeFontFam function is used to change the font family based on user Input
    changeFontFam = function(){
        //userEntryFontFamilyDropDown.options gives us dict object, then using the .selectedIndex and .text we get the actual value selected
        var text = userEntryFontFamilyDropDown.options[userEntryFontFamilyDropDown.selectedIndex].text;
        customisedTextField.style.fontFamily = text;
        tagStyleSettings();
    }

    //changeMargin function used to change margin based on user input
    function changeMargin(){
        var userMargin = userEntryMarginField.value;
        console.log(userMargin)
        customisedTextField.style.margin = userMargin;
        tagStyleSettings();
    }
    
    //changePadding function used to change padding based on user input
    function changePadding(){
        var userPadding = userEntryPaddingField.value;
        console.log(userPadding)
        customisedTextField.style.padding = userPadding;
        tagStyleSettings();
    }

    //resetToDefault Function get's called on button press, Idea here is to reset all settings to their initial, handily there is a CSS property for that
    resetToDefault = function(){
        //set text settings to default
        customisedTextField.innerHTML = defaultText;
        customisedTextField.style.fontSize = defaultTextSize;
        customisedTextField.style.backgroundColor = defaultTextBackgroundColour;
        customisedTextField.style.color = defaultTextColour;
        customisedTextField.fontStyle = defaultFontStyle;
        customisedTextField.style.fontFamily = defaultFontFamily;
        customisedTextField.style.padding = defaultPadding;
        customisedTextField.style.margin = defaultMargin;
        //update the tag style settings text function
        tagStyleSettings();
    }

    //this function populates text information about what the text field's CSS properties are, get's called at end of every function that updates customisedTextField
    tagStyleSettings = function(){
        /* 
            had to set style var here and let it equal to getComputedStyle of the textField of interest,
            if using .innerHTML.style.color unless explicitly set in Javascript I would just get empty string.
            So to resolve this getComputedStyle returns an array/JSON/dict (not sure proper terminology for JS) and I can get the value 
            for that property using style['color'] etc.
        */
        let style = getComputedStyle(customisedTextField)

        userEnteredTextSettings.innerHTML = customisedTextField.innerHTML;
        userEnteredFontSizeSettings.innerHTML = style['font-size'];
        userEnteredFontColourSettings.innerHTML = style['color'];
        userEnteredTextBackgroundColourSettings.innerHTML = style['background-color'];
        userEnteredTextFontFamSettings.innerHTML = style['font-family'];
        //For these last two style['margin'] and style['padding'] don't exist, so as a workaround because padding and margin are set evenly it doesn't matter which side of margin and padding to pick
        userEnteredMarginSettings.innerHTML = style['margin-top'];
        userEnteredPaddingSettings.innerHTML = style['padding-top'];
    }
    //call initially to load default CSS properties for customisedTextField
    tagStyleSettings();
</script>
</html>